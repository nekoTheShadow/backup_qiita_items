{"rendered_body": "<p><a href=\"https://codeiq.jp/q/3132\" rel=\"nofollow noopener\" target=\"_blank\">CodeIQ\u300c\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300d\u554f\u984c</a>\u306e\u516c\u958b\u671f\u9593\u304c\u7d42\u4e86\u3057\u305f\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u81ea\u5206\u306e\u7b54\u6848\u3092\u516c\u958b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002</p>\n\n<p>\u5229\u7528\u3057\u305f\u8a00\u8a9e\u306fBash\u2015\u2015\u306a\u306e\u3067\u3059\u304c\u3001\u5b9f\u969b\u306fawk\u3067\u3059\u306d(\u00b4\u30fb\u03c9\u30fb\uff40) \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30fb\u30d1\u30ba\u30eb\u3092Bash\u3067\u89e3\u3053\u3046\u3068\u3059\u308b\u3068\u3001\u3069\u3046\u3057\u3066\u3082awk\u3092\u591a\u7528\u3057\u304c\u3061\u3067\u3059\u3002</p>\n\n<div class=\"code-frame\" data-lang=\"awk\"><div class=\"highlight\"><pre><span class=\"c1\">#!/bin/bash</span>\n\n<span class=\"nx\">awk</span> <span class=\"err\">'</span><span class=\"p\">{</span>\n    <span class=\"nx\">n</span> <span class=\"o\">=</span> <span class=\"mi\">200000</span>\n\n    <span class=\"nx\">eratosthenes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">eratosthenes</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;=</span> <span class=\"nb\">sqrt</span><span class=\"p\">(</span><span class=\"nx\">n</span><span class=\"p\">);</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">eratosthenes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">continue</span><span class=\"p\">;</span>\n        <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"nx\">j</span> <span class=\"o\">=</span> <span class=\"nx\">i</span> <span class=\"o\">*</span> <span class=\"mi\">2</span><span class=\"p\">;</span> <span class=\"nx\">j</span> <span class=\"o\">&lt;=</span> <span class=\"nx\">n</span><span class=\"p\">;</span> <span class=\"nx\">j</span> <span class=\"o\">+=</span> <span class=\"nx\">i</span><span class=\"p\">)</span> <span class=\"nx\">eratosthenes</span><span class=\"p\">[</span><span class=\"nx\">j</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;=</span> <span class=\"nx\">n</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">eratosthenes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">]</span> <span class=\"o\">!=</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"nx\">primes</span><span class=\"p\">[</span><span class=\"o\">++</span><span class=\"nx\">x</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">i</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2017</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"nx\">super_primes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nx\">primes</span><span class=\"p\">[</span><span class=\"nx\">primes</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">]];</span>\n\n    <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"nx\">super_primes</span><span class=\"p\">[</span><span class=\"nv\">$0</span><span class=\"p\">])</span>\n<span class=\"p\">}</span><span class=\"err\">'</span>\n</pre></div></div>\n\n<p>\u554f\u984c\u306e\u5185\u5bb9\u3068\u3057\u3066\u306f\u300c\u7d20\u6570\u5217\u306e\u7d20\u6570\u756a\u76ee\u3060\u3051\u3092\u96c6\u3081\u305f<a href=\"https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%BC%E3%83%91%E3%83%BC%E7%B4%A0%E6%95%B0\" rel=\"nofollow noopener\" target=\"_blank\">\u300e\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300f</a>\u5217\u306en\u756a\u76ee\u3092\u6c42\u3081\u306a\u3055\u3044\u300d\u3068\u3044\u3046\u3082\u306e\u3002\u89e3\u7b54\u306b\u3042\u305f\u3063\u3066\u306f\u7d20\u6570\u5217\u3092\u6c42\u3081\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u554f\u984c\u306e\u5236\u7d04\u4e0a200000\u7a0b\u5ea6\u307e\u3067\u8a08\u7b97\u305b\u306d\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3088\u3063\u3066\u6bd4\u8f03\u7684\u52b9\u7387\u306e\u3088\u3044\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3001\u3059\u306a\u308f\u3061\u300c\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u300d\u306b\u3088\u308a\u7d20\u6570\u5217\u6319\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u3084\u3063\u3066\u307f\u305f\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u8a66\u3057\u5272\u308a\u306e\u3088\u3046\u306a\u8a08\u7b97\u91cf\u306e\u591a\u3044\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3060\u3068\u3001CodeIQ\u306e\u5236\u9650\u6642\u9593(1\u79d2)\u306b\u306f\u9593\u306b\u5408\u308f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002</p>\n\n<p>\u8981\u3059\u308b\u306b\u672c\u554f\u306f\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u304c\u304d\u3061\u3093\u3068\u5b9f\u88c5\u3067\u304d\u308b\u304b\u3068\u3044\u3046\u3053\u3068\u304c\u554f\u308f\u308c\u3066\u3044\u305f\u306e\u3067\u3057\u305f\u3002</p>\n\n<p><strong>\u304a\u307e\u3051:</strong> \u73fe\u5f79\u30b7\u30b9\u30c6\u30e0\u30a8\u30f3\u30b8\u30cb\u30a2\u3089\u3057\u304f\u3001VBA\u3067\u3082\u5b9f\u88c5\u3057\u3066\u304a\u304d\u307e\u3057\u305f(\u00b4\u30fb\u03c9\u30fb\uff40)</p>\n\n<div class=\"code-frame\" data-lang=\"vbnet\"><div class=\"highlight\"><pre>Sub SuperPrimes()\n    Const UpperBound As Long = 200000\n    Const SuperPrimesUpperBound As Long = 2017\n\n    Dim X As Long\n\n    ' \u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044: \u7d20\u6570\u5224\u5b9a\u3092\u884c\u3046\u3002\n    Dim IsPrime(UpperBound + 1) As Boolean\n    For X = 0 To UpperBound\n        IsPrime(X) = True\n    Next X\n    IsPrime(0) = IsPrime(1) = False\n\n    For X = 2 To Sqr(UpperBound)\n        If IsPrime(X) Then\n            Dim NonPrime As Long\n            For NonPrime = X * 2 To UpperBound Step X\n                IsPrime(NonPrime) = False\n            Next NonPrime\n        End If\n    Next X\n\n    ' \u7d20\u6570\u5217\u3092\u6c42\u3081\u308b\u3002\n    Dim Primes(UpperBound) As Long\n    Dim PrimesIdx As Long\n    PrimesIdx = 1\n    For X = 2 To UpperBound\n        If IsPrime(X) Then\n            Primes(PrimesIdx) = X\n            PrimesIdx = PrimesIdx + 1\n        End If\n    Next X\n\n    ' \u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u5217\u3092\u6c42\u3081\u308b\u3002\n    Dim SuperPrimes(SuperPrimesUpperBound) As Long\n    For X = 1 To SuperPrimesUpperBound\n        SuperPrimes(X) = Primes(Primes(X))\n    Next X\n\n    ' \u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u5217\u3092\u30b7\u30fc\u30c8\u306b\u66f8\u304d\u51fa\u3059\u3002\n    For X = 1 To SuperPrimesUpperBound\n        Cells(X, 1).Value = SuperPrimes(X)\n    Next X\nEnd Sub\n</pre></div></div>\n\n<p>\u4ee5\u4e0a\u306e\u30de\u30af\u30ed\u3092\u30a8\u30af\u30bb\u30eb\u306b\u5f35\u308a\u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b7\u30fc\u30c8\u306eA\u5217\u306b\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u304c\u66f8\u304d\u51fa\u3055\u308c\u307e\u3059\u3002\u696d\u52d9\u3067\u300c\u7d20\u6570\u300d\u300c\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u300d\u300c\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300d\u304c\u5fc5\u8981\u306b\u306a\u308a\u305d\u3046\u306a\u65b9\u306f\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044(\uff40\u30fb\u03c9\u30fb\u00b4)\uff7c\uff6c\uff77\uff70\uff9d</p>\n", "body": "\n[CodeIQ\u300c\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300d\u554f\u984c](https://codeiq.jp/q/3132)\u306e\u516c\u958b\u671f\u9593\u304c\u7d42\u4e86\u3057\u305f\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u81ea\u5206\u306e\u7b54\u6848\u3092\u516c\u958b\u3057\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u5229\u7528\u3057\u305f\u8a00\u8a9e\u306fBash\u2015\u2015\u306a\u306e\u3067\u3059\u304c\u3001\u5b9f\u969b\u306fawk\u3067\u3059\u306d(\u00b4\u30fb\u03c9\u30fb\uff40) \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u30fb\u30d1\u30ba\u30eb\u3092Bash\u3067\u89e3\u3053\u3046\u3068\u3059\u308b\u3068\u3001\u3069\u3046\u3057\u3066\u3082awk\u3092\u591a\u7528\u3057\u304c\u3061\u3067\u3059\u3002\n\n```awk\n#!/bin/bash\n\nawk '{\n    n = 200000\n    \n    eratosthenes[0] = eratosthenes[1] = 1\n    for (i = 2; i <= sqrt(n); i++) {\n        if (eratosthenes[i] == 1) continue;\n        for (j = i * 2; j <= n; j += i) eratosthenes[j] = 1;\n    }\n\n    for (i = 1; i <= n; i++) {\n        if (eratosthenes[i] != 1) primes[++x] = i;\n    }\n    \n    for(i = 1; i <= 2017; i++) super_primes[i] = primes[primes[i]];\n    \n    print(super_primes[$0])\n}'\n```\n\n\u554f\u984c\u306e\u5185\u5bb9\u3068\u3057\u3066\u306f\u300c\u7d20\u6570\u5217\u306e\u7d20\u6570\u756a\u76ee\u3060\u3051\u3092\u96c6\u3081\u305f[\u300e\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300f](https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%BC%E3%83%91%E3%83%BC%E7%B4%A0%E6%95%B0)\u5217\u306en\u756a\u76ee\u3092\u6c42\u3081\u306a\u3055\u3044\u300d\u3068\u3044\u3046\u3082\u306e\u3002\u89e3\u7b54\u306b\u3042\u305f\u3063\u3066\u306f\u7d20\u6570\u5217\u3092\u6c42\u3081\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3059\u304c\u3001\u554f\u984c\u306e\u5236\u7d04\u4e0a200000\u7a0b\u5ea6\u307e\u3067\u8a08\u7b97\u305b\u306d\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3088\u3063\u3066\u6bd4\u8f03\u7684\u52b9\u7387\u306e\u3088\u3044\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3001\u3059\u306a\u308f\u3061\u300c\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u300d\u306b\u3088\u308a\u7d20\u6570\u5217\u6319\u3092\u884c\u3044\u307e\u3057\u305f\u3002\u5b9f\u969b\u306b\u3084\u3063\u3066\u307f\u305f\u308f\u3051\u3067\u306f\u306a\u3044\u306e\u3067\u3059\u304c\u3001\u8a66\u3057\u5272\u308a\u306e\u3088\u3046\u306a\u8a08\u7b97\u91cf\u306e\u591a\u3044\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3060\u3068\u3001CodeIQ\u306e\u5236\u9650\u6642\u9593(1\u79d2)\u306b\u306f\u9593\u306b\u5408\u308f\u306a\u3044\u3068\u601d\u3044\u307e\u3059\u3002\n\n\u8981\u3059\u308b\u306b\u672c\u554f\u306f\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u304c\u304d\u3061\u3093\u3068\u5b9f\u88c5\u3067\u304d\u308b\u304b\u3068\u3044\u3046\u3053\u3068\u304c\u554f\u308f\u308c\u3066\u3044\u305f\u306e\u3067\u3057\u305f\u3002\n\n__\u304a\u307e\u3051:__ \u73fe\u5f79\u30b7\u30b9\u30c6\u30e0\u30a8\u30f3\u30b8\u30cb\u30a2\u3089\u3057\u304f\u3001VBA\u3067\u3082\u5b9f\u88c5\u3057\u3066\u304a\u304d\u307e\u3057\u305f(\u00b4\u30fb\u03c9\u30fb\uff40)\n\n```vbnet\nSub SuperPrimes()\n    Const UpperBound As Long = 200000\n    Const SuperPrimesUpperBound As Long = 2017\n    \n    Dim X As Long\n    \n    ' \u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044: \u7d20\u6570\u5224\u5b9a\u3092\u884c\u3046\u3002\n    Dim IsPrime(UpperBound + 1) As Boolean\n    For X = 0 To UpperBound\n        IsPrime(X) = True\n    Next X\n    IsPrime(0) = IsPrime(1) = False\n    \n    For X = 2 To Sqr(UpperBound)\n        If IsPrime(X) Then\n            Dim NonPrime As Long\n            For NonPrime = X * 2 To UpperBound Step X\n                IsPrime(NonPrime) = False\n            Next NonPrime\n        End If\n    Next X\n    \n    ' \u7d20\u6570\u5217\u3092\u6c42\u3081\u308b\u3002\n    Dim Primes(UpperBound) As Long\n    Dim PrimesIdx As Long\n    PrimesIdx = 1\n    For X = 2 To UpperBound\n        If IsPrime(X) Then\n            Primes(PrimesIdx) = X\n            PrimesIdx = PrimesIdx + 1\n        End If\n    Next X\n    \n    ' \u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u5217\u3092\u6c42\u3081\u308b\u3002\n    Dim SuperPrimes(SuperPrimesUpperBound) As Long\n    For X = 1 To SuperPrimesUpperBound\n        SuperPrimes(X) = Primes(Primes(X))\n    Next X\n    \n    ' \u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u5217\u3092\u30b7\u30fc\u30c8\u306b\u66f8\u304d\u51fa\u3059\u3002\n    For X = 1 To SuperPrimesUpperBound\n        Cells(X, 1).Value = SuperPrimes(X)\n    Next X\nEnd Sub\n```\n\n\u4ee5\u4e0a\u306e\u30de\u30af\u30ed\u3092\u30a8\u30af\u30bb\u30eb\u306b\u5f35\u308a\u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068\u3001\u30b7\u30fc\u30c8\u306eA\u5217\u306b\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u304c\u66f8\u304d\u51fa\u3055\u308c\u307e\u3059\u3002\u696d\u52d9\u3067\u300c\u7d20\u6570\u300d\u300c\u30a8\u30e9\u30c8\u30b9\u30c6\u30cd\u30b9\u306e\u3075\u308b\u3044\u300d\u300c\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300d\u304c\u5fc5\u8981\u306b\u306a\u308a\u305d\u3046\u306a\u65b9\u306f\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044(\uff40\u30fb\u03c9\u30fb\u00b4)\uff7c\uff6c\uff77\uff70\uff9d\n", "coediting": false, "comments_count": 2, "created_at": "2017-02-10T01:07:02+09:00", "group": null, "id": "e0e24bc7afdfa965f6aa", "likes_count": 3, "private": false, "reactions_count": 0, "tags": [{"name": "Bash", "versions": []}, {"name": "awk", "versions": []}, {"name": "VBA", "versions": []}, {"name": "codeiq", "versions": []}], "title": "CodeIQ\u300c\u30b9\u30fc\u30d1\u30fc\u7d20\u6570\u300d\u554f\u984c\u306b\u53c2\u52a0\u3057\u307e\u3057\u305f\u3002", "updated_at": "2017-02-10T01:07:02+09:00", "url": "https://qiita.com/neko_the_shadow/items/e0e24bc7afdfa965f6aa", "user": {"description": "\u3044\u307e\u307e\u3067\u4f7f\u3063\u3066\u3044\u305f\u306f\u3066\u306a\u30d6\u30ed\u30b0\u304c\u3001\u63a8\u7406\u5c0f\u8aac\u3084\u5192\u967a\u5c0f\u8aac\u4e2d\u5fc3\u306e\u66f8\u8a55\u30d6\u30ed\u30b0\u3068\u5316\u3057\u305f\u306e\u3067\u3001\u6280\u8853\u7684\u5185\u5bb9\u306f\u3053\u3061\u3089\u3078\u5f15\u3063\u8d8a\u3057\u3066\u304d\u307e\u3057\u305f(\u00b4\u30fb\u03c9\u30fb`)", "facebook_id": "", "followees_count": 0, "followers_count": 21, "github_login_name": null, "id": "neko_the_shadow", "items_count": 124, "linkedin_id": "", "location": "\u795e\u5948\u5ddd\u770c\u5ddd\u5d0e\u5e02", "name": "", "organization": "", "permanent_id": 105859, "profile_image_url": "https://qiita-image-store.s3.amazonaws.com/0/105859/profile-images/1473709753", "team_only": false, "twitter_screen_name": "neko_the_shadow", "website_url": "https://nekotheshadow.github.io/"}, "page_views_count": null}